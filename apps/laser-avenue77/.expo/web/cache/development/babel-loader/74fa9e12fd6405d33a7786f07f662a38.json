{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { Box, Heading, VStack, FormControl, Input, Button, Center, NativeBaseProvider } from \"native-base\";\nimport axios from 'axios';\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { ottpFlagHandler, ottpPhoneHandler } from \"../store-CIAM\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Icon from '@expo/vector-icons/Ionicons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Example = function Example() {\n  function requestBuilder(serviceName, path, method, data) {\n    try {\n      var json = {\n        method: \"POST\",\n        url: \"https://api.development.agentsoncloud.com/external/public\",\n        headers: {\n          'requsted-service': serviceName,\n          \"requsted-path\": path,\n          \"requsted-method\": method\n        },\n        data: data\n      };\n      return json;\n    } catch (error) {\n      return error;\n    }\n  }\n\n  var dispatch = useDispatch();\n\n  var _useState = useState({\n    \"role\": \"admin\",\n    \"email\": \"\",\n    \"password\": \"\",\n    \"name\": \"\",\n    \"mobile\": \"\"\n  }),\n      _useState2 = _slicedToArray(_useState, 2),\n      userObj = _useState2[0],\n      setUserObj = _useState2[1];\n\n  var signUpHandler = function _callee() {\n    return _regeneratorRuntime.async(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            dispatch(ottpPhoneHandler(userObj.mobile.slice(1, userObj.mobile.length)));\n            _context.next = 4;\n            return _regeneratorRuntime.awrap(axios(requestBuilder('ciam', '/users/signup', 'post', userObj)));\n\n          case 4:\n            dispatch(ottpFlagHandler());\n            _context.next = 10;\n            break;\n\n          case 7:\n            _context.prev = 7;\n            _context.t0 = _context[\"catch\"](0);\n            console.log('gggggggg', _context.t0);\n\n          case 10:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 7]], Promise);\n  };\n\n  return _jsx(Center, {\n    w: \"100%\",\n    children: _jsxs(Box, {\n      safeArea: true,\n      p: \"2\",\n      w: \"90%\",\n      maxW: \"290\",\n      py: \"8\",\n      children: [_jsx(Heading, {\n        size: \"lg\",\n        color: \"coolGray.800\",\n        _dark: {\n          color: \"warmGray.50\"\n        },\n        fontWeight: \"semibold\",\n        children: \"Welcome\"\n      }), _jsx(Heading, {\n        mt: \"1\",\n        color: \"coolGray.600\",\n        _dark: {\n          color: \"warmGray.200\"\n        },\n        fontWeight: \"medium\",\n        size: \"xs\",\n        children: \"Sign up to continue!\"\n      }), _jsxs(VStack, {\n        space: 3,\n        mt: \"5\",\n        children: [_jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Username\"\n          }), _jsx(Input, {\n            onChangeText: function onChangeText(value) {\n              return setUserObj(_objectSpread(_objectSpread({}, userObj), {}, {\n                name: value\n              }));\n            }\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Email\"\n          }), _jsx(Input, {\n            onChangeText: function onChangeText(value) {\n              return setUserObj(_objectSpread(_objectSpread({}, userObj), {}, {\n                email: value\n              }));\n            }\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Phone Number\"\n          }), _jsx(Input, {\n            placeholder: \" \",\n            width: \"100%\",\n            borderRadius: \"4\",\n            py: \"3\",\n            px: \"1\",\n            fontSize: \"14\",\n            InputLeftElement: _jsx(Text, {\n              children: \"+962\"\n            }),\n            onChangeText: function onChangeText(value) {\n              return setUserObj(_objectSpread(_objectSpread({}, userObj), {}, {\n                mobile: \"+962\" + value\n              }));\n            }\n          })]\n        }), _jsxs(FormControl, {\n          children: [_jsx(FormControl.Label, {\n            children: \"Password\"\n          }), _jsx(Input, {\n            onChangeText: function onChangeText(value) {\n              return setUserObj(_objectSpread(_objectSpread({}, userObj), {}, {\n                password: value\n              }));\n            },\n            type: \"password\"\n          })]\n        }), _jsx(Center, {\n          children: _jsx(Button, {\n            onPress: function onPress() {\n              return signUpHandler();\n            },\n            w: \"130\",\n            mt: \"2\",\n            colorScheme: \"teal\",\n            children: \"Sign up\"\n          })\n        })]\n      })]\n    })\n  });\n};\n\nexport default (function () {\n  return _jsx(NativeBaseProvider, {\n    children: _jsx(Center, {\n      flex: 1,\n      px: \"3\",\n      children: _jsx(Example, {})\n    })\n  });\n});","map":{"version":3,"names":["React","useState","useEffect","Box","Heading","VStack","FormControl","Input","Button","Center","NativeBaseProvider","axios","ottpFlagHandler","ottpPhoneHandler","useDispatch","useSelector","Icon","Example","requestBuilder","serviceName","path","method","data","json","url","headers","error","dispatch","userObj","setUserObj","signUpHandler","mobile","slice","length","console","log","color","value","name","email","password"],"sources":["C:/Users/User/AgentsNx/Mobile-Expo/agents/apps/laser-avenue77/src/CIAM/screens/Signup.js"],"sourcesContent":["import  React,{useState,useEffect} from \"react\";\r\nimport { Box, Heading, VStack, FormControl, Input, Button, Center, NativeBaseProvider } from \"native-base\";\r\nimport axios from 'axios'\r\nimport {Text} from 'react-native'\r\n\r\nimport {ottpFlagHandler,ottpPhoneHandler} from '../store-CIAM'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Icon from '@expo/vector-icons/Ionicons';\r\n\r\nconst Example = () => {\r\n  \r\n  function requestBuilder(serviceName, path, method, data) {\r\n    try {\r\n        let json = {\r\n            method: \"POST\",\r\n            url: \"https://api.development.agentsoncloud.com/external/public\",\r\n            headers: {\r\n                'requsted-service': serviceName,\r\n                \"requsted-path\": path,\r\n                \"requsted-method\": method\r\n            },\r\n            data: data,\r\n        }\r\n        return json\r\n    } catch (error) {\r\n        return error\r\n    }\r\n  }\r\n\r\n\r\n  const dispatch = useDispatch();\r\n  const [userObj,setUserObj]=useState({\r\n    \"role\":\"admin\",\r\n    \"email\": \"\",\r\n    \"password\": \"\",\r\n    \"name\": \"\",\r\n    \"mobile\": \"\"\r\n})\r\n\r\n\r\n\r\n\r\nconst signUpHandler = async () => {\r\n\r\n  try {\r\n    dispatch(ottpPhoneHandler(userObj.mobile.slice(1,userObj.mobile.length)))\r\n   await axios(requestBuilder('ciam','/users/signup','post',userObj))\r\n    dispatch(ottpFlagHandler())\r\n\r\n    \r\n  }catch (error){\r\nconsole.log('gggggggg',error);\r\n  } \r\n\r\n  }\r\n\r\n\r\n  return <Center w=\"100%\">\r\n      <Box safeArea p=\"2\" w=\"90%\" maxW=\"290\" py=\"8\">\r\n        <Heading size=\"lg\" color=\"coolGray.800\" _dark={{\r\n        color: \"warmGray.50\"\r\n      }} fontWeight=\"semibold\">\r\n          Welcome\r\n        </Heading>\r\n        <Heading mt=\"1\" color=\"coolGray.600\" _dark={{\r\n        color: \"warmGray.200\"\r\n      }} fontWeight=\"medium\" size=\"xs\">\r\n          Sign up to continue!\r\n        </Heading>\r\n        <VStack space={3} mt=\"5\">\r\n        <FormControl>\r\n            <FormControl.Label>Username</FormControl.Label>\r\n            <Input   onChangeText={value => setUserObj({ ...userObj,\r\n        name: value\r\n      })}  />\r\n          </FormControl>\r\n          <FormControl>\r\n            <FormControl.Label>Email</FormControl.Label>\r\n            <Input onChangeText={value => setUserObj({ ...userObj,\r\n        email: value\r\n      })} />\r\n          </FormControl>\r\n          <FormControl>\r\n            <FormControl.Label>Phone Number</FormControl.Label>\r\n            <Input placeholder=\" \" width=\"100%\" borderRadius=\"4\" py=\"3\" px=\"1\" fontSize=\"14\" InputLeftElement={<Text >+962</Text>} onChangeText={value => setUserObj({ ...userObj,\r\n        mobile:`+962${value}`\r\n      })} />\r\n          </FormControl>\r\n          <FormControl>\r\n            <FormControl.Label>Password</FormControl.Label>\r\n            <Input onChangeText={value => setUserObj({ ...userObj,\r\n        password: value\r\n      })} type=\"password\" />\r\n          </FormControl>\r\n         \r\n      \r\n          <Center>\r\n          <Button onPress={()=>signUpHandler()} w=\"130\" mt=\"2\" colorScheme=\"teal\">\r\n            Sign up\r\n          </Button>\r\n          </Center>\r\n        </VStack>\r\n      </Box>\r\n    </Center>;\r\n};\r\n\r\n    export default () => {\r\n        return (\r\n          <NativeBaseProvider>\r\n            <Center flex={1} px=\"3\">\r\n                <Example />\r\n            </Center>\r\n          </NativeBaseProvider>\r\n        );\r\n    };"],"mappings":"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"},"metadata":{},"sourceType":"module"}