{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport React, { useState, useEffect } from \"react\";\nimport { Button, Modal, FormControl, Input, Center, NativeBaseProvider } from \"native-base\";\nimport { ottpFlagHandler } from \"../store-CIAM\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport Icon from '@expo/vector-icons/FontAwesome';\nimport { useNavigation } from '@react-navigation/native';\nimport axios from 'axios';\nimport requestBuilder from \"../../requestRebuilder  \";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\n\nvar Example = function Example() {\n  var _useState = useState(''),\n      _useState2 = _slicedToArray(_useState, 2),\n      otp = _useState2[0],\n      setOttp = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      otpFlag = _useState4[0],\n      setotpFlag = _useState4[1];\n\n  var navigation = useNavigation();\n  var ciamStore = useSelector(function (state) {\n    return state.ciamStore;\n  });\n  var dispatch = useDispatch();\n\n  function ottpHandler() {\n    var res;\n    return _regeneratorRuntime.async(function ottpHandler$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            _context.prev = 0;\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(axios(requestBuilder('ciam', '/otpverify/verifyotp', 'post', {\n              otpcode: otp,\n              mobile: ciamStore.ottpPhone\n            })));\n\n          case 3:\n            res = _context.sent;\n            dispatch(ottpFlagHandler());\n            navigation.navigate('SignIn');\n            _context.next = 11;\n            break;\n\n          case 8:\n            _context.prev = 8;\n            _context.t0 = _context[\"catch\"](0);\n            setotpFlag(true);\n\n          case 11:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, [[0, 8]], Promise);\n  }\n\n  return _jsx(Center, {\n    children: _jsx(Modal, {\n      isOpen: ciamStore.ottpFlag,\n      onClose: function onClose() {\n        return dispatch(ottpFlagHandler());\n      },\n      children: _jsxs(Modal.Content, {\n        maxWidth: \"400px\",\n        children: [_jsx(Modal.CloseButton, {}), _jsx(Modal.Header, {\n          children: \"Email Verification\"\n        }), _jsxs(Modal.Body, {\n          children: [_jsxs(FormControl, {\n            children: [_jsx(FormControl.Label, {\n              children: \"Enter The OTTP\"\n            }), _jsx(Input, {\n              onChangeText: function onChangeText(value) {\n                return setOttp(value);\n              }\n            })]\n          }), otpFlag && _jsx(Text, {\n            style: {\n              color: 'red'\n            },\n            children: \"Please Enter a valid OTP\"\n          })]\n        }), _jsx(Modal.Footer, {\n          children: _jsxs(Button.Group, {\n            space: 2,\n            children: [_jsx(Button, {\n              variant: \"ghost\",\n              colorScheme: \"blueGray\",\n              onPress: function onPress() {\n                dispatch(ottpFlagHandler());\n              },\n              children: \"Cancel\"\n            }), _jsx(Button, {\n              onPress: function onPress() {\n                return ottpHandler();\n              },\n              children: \"Enter\"\n            })]\n          })\n        })]\n      })\n    })\n  });\n};\n\nexport default (function () {\n  return _jsx(NativeBaseProvider, {\n    children: _jsx(Center, {\n      flex: 1,\n      px: \"3\",\n      children: _jsx(Example, {})\n    })\n  });\n});","map":{"version":3,"names":["React","useState","useEffect","Button","Modal","FormControl","Input","Center","NativeBaseProvider","ottpFlagHandler","useDispatch","useSelector","Icon","useNavigation","axios","requestBuilder","Example","otp","setOttp","otpFlag","setotpFlag","navigation","ciamStore","state","dispatch","ottpHandler","otpcode","mobile","ottpPhone","res","navigate","ottpFlag","value","color"],"sources":["C:/Users/User/AgentsNx/Mobile-Expo/agents/apps/laser-avenue77/src/CIAM/screens/ottpModel.js"],"sourcesContent":["import React,{useState,useEffect} from \"react\";\r\nimport { Button, Modal, FormControl, Input, Center, NativeBaseProvider } from \"native-base\";\r\nimport {ottpFlagHandler} from '../store-CIAM'\r\nimport {Text} from 'react-native'\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport Icon from '@expo/vector-icons/FontAwesome';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport axios from 'axios'\r\nimport requestBuilder from '../../requestRebuilder  '\r\n\r\nconst Example = () => {\r\n   const [otp,setOttp]=useState('')\r\n   const [otpFlag,setotpFlag]=useState(false)\r\n  const navigation = useNavigation();\r\n  const ciamStore = useSelector(state => state.ciamStore);\r\n  const dispatch = useDispatch();\r\n\r\n\r\n\r\nasync function ottpHandler() {\r\n\r\n  try {\r\n  const res=  await axios(requestBuilder('ciam','/otpverify/verifyotp','post',{otpcode:otp , mobile: ciamStore.ottpPhone}))\r\n    dispatch(ottpFlagHandler())\r\n    navigation.navigate('SignIn')\r\n    \r\n  } catch (error) {\r\n    setotpFlag(true)\r\n \r\n  }\r\n    \r\n  \r\n   \r\n\r\n}\r\n  \r\n  return <Center>\r\n    \r\n      <Modal isOpen={ciamStore.ottpFlag} onClose={() =>dispatch(ottpFlagHandler())}>\r\n        <Modal.Content maxWidth=\"400px\">\r\n          <Modal.CloseButton />\r\n          <Modal.Header>Email Verification</Modal.Header>\r\n          <Modal.Body>\r\n            <FormControl>\r\n              <FormControl.Label>Enter The OTTP</FormControl.Label>\r\n              <Input onChangeText={value => setOttp(value)}  />\r\n            </FormControl>\r\n    {otpFlag && <Text style={{color:'red'}}>Please Enter a valid OTP</Text>}\r\n          </Modal.Body>\r\n          <Modal.Footer>\r\n            <Button.Group space={2}>\r\n              <Button variant=\"ghost\" colorScheme=\"blueGray\" onPress={() => {\r\n             dispatch( ottpFlagHandler())\r\n            }}>\r\n                Cancel\r\n              </Button>\r\n              <Button onPress={() => ottpHandler()\r\n        \r\n            }>\r\n                Enter\r\n              </Button>\r\n            </Button.Group>\r\n          </Modal.Footer>\r\n        </Modal.Content>\r\n      </Modal>\r\n    </Center>;\r\n};\r\n\r\n    export default () => {\r\n        return (\r\n          <NativeBaseProvider>\r\n            <Center flex={1} px=\"3\">\r\n                <Example />\r\n            </Center>\r\n          </NativeBaseProvider>\r\n        );\r\n    };"],"mappings":"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"},"metadata":{},"sourceType":"module"}